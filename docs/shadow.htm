<html>
<head>
    <link rel="stylesheet" href="https://pages.nist.gov/nist-header-footer/css/nist-combined.css">
    <script src="https://pages.nist.gov/nist-header-footer/js/jquery-1.9.0.min.js" type="text/javascript" defer="defer"></script>
    <script src="https://pages.nist.gov/nist-header-footer/js/nist-header-footer.js" type="text/javascript" defer="defer"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            // Mark external (non-nist.gov) A tags with class "external"
            //If the adress start with https and ends with nist.gov
            var re_nist = new RegExp('^https?:\/\/((^\/)*\.)*nist\\.gov(\/|$)');
            //Regex to find address that start with https
            var re_absolute_address = new RegExp('^((https?:)?\/\/)');
            $("a").each(function () {
                var url = $(this).attr('href');
                if (re_nist.test(url) || !re_absolute_address.test(url)) {
                    $(this).addClass('local');
                } else {
                    $(this).addClass('external');
                }
            });
            // Add leaveNotice to external A elements
            $('a.external').leaveNotice({
                siteName: 'the NIST fork of the leaveNotice jQuery plugin',
            });
        });
    </script>

    <meta name="generator" content="HTML Tidy for Cygwin (vers 1st September 2004), see www.w3.org">
    <link rel="STYLESHEET" href="style.css" type="text/css">

    <title>SCATMECH: Shadow_Function</title>
    <script async type="text/javascript" id="_fed_an_ua_tag" src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=NIST&subagency=github&pua=UA-66610693-1&yt=true&exts=ppsx,pps,f90,sch,rtf,wrl,txz,m1v,xlsm,msi,xsd,f,tif,eps,mpg,xml,pl,xlt,c"></script>
</head>

<body><br>
  <a name="top" id="top"><!-- --></a>

  <table width="98%" border="0" cellpadding="0" cellspacing="0"
  align="center">
    <tr>
      <td>
        <p class="nav"><a href="index.htm">SCATMECH</a> &gt; <a href=
        "classes.htm">Classes and Functions</a> &gt;
        <a href="classes.htm#PropertyModels">Property Models</a>
        &gt; Shadow_Function</p>

	<h1>Abstract class Shadow_Function</h1>
        
        <hr>
	<p>
        The abstract class <b>Shadow_Function</b> is used by <a href=
        "torrspar.htm">Shadowed_Facet_BRDF_Model</a> to store
        information about the shadow function. Several
        classes inheriting its properties are provided. The user
        may provide other shadow functions for <a href=
        "torrspar.htm">Shadowed_Facet_BRDF_Model</a> by creating
        classes inheriting the properties of
        <b>Shadow_Function</b>. 

	<h2>Instantiable Models and Their  Parameters:</h2>

        <table border="1" cellpadding="5">
          <tr>
            <th>Parameter</th>

            <th>Data
            Type</th>

            <th>Description</th>

            <th>Default</th>
          </tr>

          <tr>
            <td colspan="4" class="model"><b>Unit_Shadow_Function</b>:<br>
            A trivial shadow function that does not provide any
            shadowing.</td>
          </tr>

          <tr>
            <td colspan="4" class="model">Unit_Shadow_Function has
            no parameters..</td>
          </tr>

          <tr>
            <td colspan="4" class="model"><b>Torrance_Sparrow_Shadow_Function</b>:<br>
            A shadow function appropriate for a surface covered
            with a distribution of V-grooves, as described by <a href="#TS">Torrance and Sparrow</a>.</td>
          </tr>

          <tr>
            <td colspan="4" class="model">Torrance_Sparrow_Shadow_Function
            has no parameters..</td>
          </tr>

          <tr>
            <td colspan="4" class="model"><b>Smith_Shadow_Function</b>:<br>
            A shadow function appropriate for Gaussian rough
            surfaces, described by <a href="#Smith">Smith</a>.</td>
          </tr>

          <tr>
            <td class="parameter">w</td>

            <td class="datatype">double</td>

            <td class="description">The
            standard deviation of the surface slope.</td>

            <td class="default">0.35</td>
          </tr>

          <tr>
            <td colspan="4" class="model"><b>Maxwell_Beard_Shadow_Function</b>:
            A shadow function developed by
            <a href="#MB">Maxwell and Beard</a>.</td>
          </tr>

          <tr>
            <td class="parameter">Omega</td>

            <td class="datatype">double</td>

            <td class="description">Omega
            [deg]</td>

            <td class="default">0.7</td>
          </tr>

          <tr>
            <td class="parameter">tau</td>

            <td class="datatype">double</td>

            <td class="description">tau
            [deg]</td>

            <td class="default">0.25</td>
          </tr>

          <tr>
            <td colspan="4" class="model"><b>Table_Shadow_Function</b>:
            A shadow function that is interpolated from a table of
            values, evaluated at an angle in degrees. The resulting
            shadow function is the product of this table evaluated
            at each of the incident and scattered polar angles.</td>
          </tr>

          <tr>
            <td class="parameter">T</td>

            <td class="datatype"><a href="scattabl.htm">Table</a></td>

            <td class="description">The table
            containing the shadow function.</td>

            <td class="default">1</td>
          </tr>
        </table>

        <h2>See also:</h2>

        <p><a href=
        "index.htm">SCATMECH Home</a>, &nbsp; <a href=
        "convent.htm">Conventions</a>, &nbsp; <a href=
        "torrspar.htm">Shadowed_Facet_BRDF_Model</a>,
        &nbsp;</p>
        <p><a name="TS" id="TS"></a><a href="https://doi.org/10.1364/JOSA.57.001105">K.E.&nbsp;Torrance and E.M.&nbsp;Sparrow, "Theory of
        off-specular reflection from roughened surfaces," J. Opt.
        Soc. Am. <b>57</b>(9), 1105-1114 (1967).</a><br>
        <a name="Smith" id="Smith"></a><a href="https://doi.org/10.1109/TAP.1967.1138991">B. Smith, "Geometrical Shadowing of a Random Rough
        Surface," IEEE Trans. Ant. Prop <b>AP-15</b>, 668-671
        (1967).</a><br>
        <a name="MB" id="MB"></a><a href="http://www.dtic.mil/docs/citations/AD0913816">J.R.&nbsp;Maxwell, J.&nbsp;Beard, S.&nbsp;Weiner,
        D.&nbsp;Ladd, and D.&nbsp;Ladd, <i>Bidirectional
        Reflectance Model Validation and Utilization</i>,
        (Environmental Research Inst. of Michigan (ERIM), Ann
        Arbor, MI, 1973)</a>.

        <h2>Include file:</h2>

          <pre>
#include "<a href="../code/torrspar.h">torrspar.h</a>"
</pre>
        <h2>Source code:</h2>

          <pre>
<a href="../code/torrspar.cpp">torrspar.cpp</a>
</pre>
        <h2>Definition of public elements:</h2>

          <pre>
class Shadow_Function : class <a href=
"model.htm">Model</a> {
    virtual double <a href=
"#f">f</a>(double thetai,double thetas,double phis) = 0;
};

typedef <a href=
"modelptr.htm">Model_Ptr</a>&lt;Shadow_Function&gt; Shadow_Function_Ptr;
</pre>

        <hr>

        <h3><a name="f" id=
        "f">double f(double thetai,double thetas,double
        phis)</a></h3>

        <blockquote>
          <p>This
          function evaluates the shadow function for the given
          geometry. The function is defined as that function which
          should be multiplied by the calculated intensity to
          achieve the shadowed intensity.
        </blockquote>

        <p><a href="#top"><span class="totop">Top of Page</span></a></p>
<!-- START FOOTER -->
<hr>
<h2>For More Information</h2>

<p>
<a href="https://www.nist.gov/people/thomas-germer">SCATMECH Technical Information and Questions</a><br>
<a href="http://www.nist.gov/pml/div685/index.cfm" target="_top">Sensor Science Division Home Page</a><br>
<a href="mailto:fraser@nist.gov">Sensor Science Division Inquiries</a><br>
<a href="mailto:thomas.germer@nist.gov">Website Comments</a>

<p>
Current SCATMECH version: <a href="./download.htm">7.22 (April 2021)</a><br>
<br>

</td>
</tr>
</table>

</body>
</html>
